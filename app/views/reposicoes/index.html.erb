<div class="card bg-white text-danger mt-3 mb-3 px-5 pt-3 pb-1 shadow">
  <div class="card-head">
    <div class="card-title">
      <h1>Reposições</h1>
    </div>
  </div>

  <div class="card-body">
    <table class="table table-striped table-bordered" style="width:100%">
      <thead>
        <tr>
          <th>Produto</th>
          <th>Quantidade</th>
          <th>Data da reposição</th>

          <% if current_user.nivel_acesso == "Admin" %>
            <th>Usuário</th>
          <% end %>

          <th colspan="2" class="text-center h5">
            <%= link_to new_reposicao_path, class: "ml-auto", title: "Fazer nova reposição" do %>
              <i class="fas fa-plus text-danger"></i>
            <% end %>
          </th>
        </tr>
      </thead>

      <tbody>
        <% @reposicoes.each do |reposicao| %>
          <tr>
            <td><%= reposicao.produto.nome %></td>
            <td><%= reposicao.quantidade %></td>
            <% if !reposicao.data_reposicao.nil? %>
              <td><%= reposicao.data_reposicao.strftime("%d/%m/%Y - %H:%M") %></td>
            <% else %>
              <td></td>
            <% end %>

            <% if current_user.nivel_acesso == "Admin" %>
              <td><%= reposicao.user.nome %></td>
            <% end %>

            <td class="text-center px-2"><%= link_to reposicao, title: "Detalhes" do %><i class="fas fa-info text-danger"></i><% end %></td>
            <td class="text-center px-1"><%= link_to reposicao, method: :delete, data: { confirm: 'Você tem certeza? Não esqueça de remover os produtos dos seus respectivos lugares.' }, title: "Apagar" do %><i class="fas fa-times text-danger"></i><% end %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
